<%= stylesheet_link_tag 'testimonial' %>

<div class="container" style="width: 60%;font-size: 120%">
  <br />
  <p>
  Bonjour <%= current_member.first_name %>,
  </p><br />
  <p>
  Nous nous réjouissons de votre venue sur cette page. Votre témoignage sera un partage d'expérience précieux. Un bout de votre vie que nous sommes impatients de découvrir.
  </p><br />
  <p>
  Ici, nous aimons les gens, les échanges chaleureux, les communications authentiques et les formulations simples. Ce que vous allez écrire ... et bien des membres vont le lire ! Peut-être que ce que vous avez vécu, ce que vous avez découvert pourrait parler à ces personnes, les toucher, leur donner envie d'essayer quelque chose de nouveau.
  </p><br />
  <p>
  Sur Bilobaba, nous adorons partager les expériences. Nous pouvons le faire par ces témoignages. Des petites lettres écrites par un ami pour un ami ... lu par de possibles futurs amis.
  </p><br />
  <p>
  Si vous n'avez pas au moins 15 minutes à consacrer à l'écriture de ce texte,     alors vous pouvez revenir plus tard parce que nous ne sommes pas pressés. Nous voulons surtout lire un texte de qualité. Pas dans le sens littéraire du terme. Mais dans le sens authentique, vrai, de coeur à coeur.
  </p><br />
  <p>
  Si le lecteur ne passe pas au moins 5 minutes à vous lire, il ne sera pas connecté émotionnellement à votre histoire. Il pourra comprendre mais pas ressentir. Nous voulons des liens forts. Nous voulons donner l'espace pour de longs textes.
  </p><br />
  <p>
  Surtout, nous ne voulons pas de conseils parce qu'il y a déjà des sites très biens pour ça. Ce que nous voulons ? Des témoignages, des expériences, des paroles d'un voyageur qui nous raconte un bout de son aventure.
  </p><br />
<hr/>


  <%= simple_form_for(@testimonial) do |f| %>
    <%= f.error_notification %>

    <div class="form-inputs">
      <%= f.input :title, label: 'Le titre', required: true %>
      <%= f.input :body, as: :trix_editor, label: 'Votre texte', required: true, input_html: {rows: 35} %>
      <!-- <%= f.input :image, required: true %> -->

      <%= f.label 'Membres' %>
      <%= f.input :member_list, label: false, input_html:{id: 'members', data:{role:'tagsinput'},
                  value: f.object.member_list.sort.join(', ').to_s}, label: false, placeholder: "Entrez un pro ..."  %>

      <%= f.label 'Thèmes' %>
      <%= f.input :topic_list, label: false, input_html:{id: 'topics', data:{role:'tagsinput'},
            value: f.object.topic_list.sort.join(', ').to_s} , placeholder: "Entrez un thème ..." %>

      <%= f.input :published, label: 'Publier maintenant' %>
    </div>

    <div class="form-actions">
      <%= f.button :submit %>
    </div>




  <% end %>
</div>
<script>
// constructs the suggestion engine
var states = new Bloodhound({
  datumTokenizer: Bloodhound.tokenizers.whitespace,
  queryTokenizer: Bloodhound.tokenizers.whitespace,
  // `states` is an array of state names defined in "The Basics"
    local: [
    'nine' ,
    'aaa' ,
    'bbb' ,
    'ccc' ,
    'ddd' ,
     'ten'
  ]
});


$('.typeahead').typeahead({
  hint: true,
  highlight: true,
  freeInput: true,
  minLength: 2
},
{
  source: states
});

$('#topicsXXX').typeahead({
  hint: true,
  highlight: true,
  minLength: 2
},
{
  name: 'states',
  source: states
});

$('#topics').tagsinput({
  typeaheadjs: {
  source: states.ttAdapter()
  }
});

var cities = new Bloodhound({
  datumTokenizer: Bloodhound.tokenizers.whitespace,
  queryTokenizer: Bloodhound.tokenizers.whitespace,
  // local: <%= Member.all.as_json %>
  local: <%= raw Member.pseudos %>
});

cities.initialize();

var elt = $('#members');
elt.tagsinput({
  typeaheadjs: {
    source: cities.ttAdapter()
  }
});
// elt.tagsinput('add', { "value": 1 , "text": "Amsterdam"   , "continent": "Europe"    });
// elt.tagsinput('add', { "value": 4 , "text": "Washington"  , "continent": "America"   });
// elt.tagsinput('add', { "value": 7 , "text": "Sydney"      , "continent": "Australia" });
// elt.tagsinput('add', { "value": 10, "text": "Beijing"     , "continent": "Asia"      });
// elt.tagsinput('add', { "value": 13, "text": "Cairo"       , "continent": "Africa"    });

</script>
